# ONDC Shopping System - Centralized Configuration
# Copy this file to .env and fill in your actual values

# ====================
# REQUIRED API KEYS
# ====================

# Himira Backend API (ONDC Shopping Backend)
HIMIRA_API_KEY=aPzSpx0rksO96PhGGNKRgfAay0vUbZ
WIL_API_KEY=aPzSpx0rksO96PhGGNKRgfAay0vUbZ

# Google Gemini API for AI Embeddings - REQUIRED
GEMINI_API_KEY=your_gemini_api_key_here

# ====================
# BACKEND CONFIGURATION
# ====================

# Himira Backend URLs
HIMIRA_BACKEND_URL=https://hp-buyer-backend-preprod.himira.co.in/clientApis
BACKEND_ENDPOINT=https://hp-buyer-backend-preprod.himira.co.in/clientApis

# User Configuration
HIMIRA_USER_ID=guestUser
HIMIRA_DEVICE_ID=etl_pipeline_001

# ====================
# VECTOR DATABASE CONFIGURATION
# ====================

# Qdrant Vector Database
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION=ondc_products
QDRANT_PRODUCTS_COLLECTION=ondc_products
QDRANT_CATEGORIES_COLLECTION=himira_categories
QDRANT_PROVIDERS_COLLECTION=himira_providers

# Vector Search Settings
VECTOR_SEARCH_ENABLED=true
VECTOR_SIMILARITY_THRESHOLD=0.3
VECTOR_MAX_RESULTS=20

# ====================
# AI/ML CONFIGURATION
# ====================

# Google Gemini Settings
GEMINI_MODEL=models/text-embedding-004
EMBEDDING_DIMENSION=768

# ====================
# MCP SERVER CONFIGURATION
# ====================

# Session Management
SESSION_TIMEOUT_MINUTES=30
SESSION_STORE=file
SESSION_STORE_PATH=~/.ondc-mcp/sessions

# Performance Settings
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300
CONCURRENT_SEARCHES=5
REQUEST_TIMEOUT=30
MAX_IMAGE_SIZE_MB=0.8

# ====================
# ETL PIPELINE CONFIGURATION
# ====================

# ETL Processing
ETL_BATCH_SIZE=100
ETL_MAX_WORKERS=4
ETL_TIMEOUT_SECONDS=300
ETL_RETRY_ATTEMPTS=3
ETL_AUTO_START=true

# ETL Data Sources
ENABLE_HIMIRA_SOURCE=true
ENABLE_ONDC_SOURCE=false
ENABLE_FILE_SOURCE=true

# ====================
# LOGGING CONFIGURATION
# ====================

# Log Level
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# Log Paths
LOG_FILE=/app/logs/server.log
LOGS_DIR=/app/logs

# ====================
# PERFORMANCE TUNING
# ====================

# Connection Settings
HTTP_POOL_SIZE=10
HTTP_MAX_RETRIES=3
HTTP_TIMEOUT=30
MAX_KEEPALIVE_CONNECTIONS=10
MAX_CONNECTIONS=20
KEEPALIVE_EXPIRY=30

# Rate Limiting
RATE_LIMIT_RPS=10
RATE_LIMIT_BURST=20

# Memory Management
MAX_MEMORY_MB=2048

# ====================
# SEARCH CONFIGURATION
# ====================

# Search Defaults
SEARCH_DEFAULT_LIMIT=20
SEARCH_MAX_LIMIT=100
SEARCH_SIMILARITY_THRESHOLD=0.7
ENABLE_HYBRID_SEARCH=true
VECTOR_SEARCH_WEIGHT=0.7
KEYWORD_SEARCH_WEIGHT=0.3

# ====================
# OPTIONAL CONFIGURATION
# ====================

# MCP Server Info
MCP_SERVER_NAME="ONDC Shopping - Himira"
MCP_SERVER_VERSION="1.0.0"

# Development Settings
ETL_ENV=production
DEBUG=false
TESTING=false
ENABLE_METRICS=true
ENABLE_SWAGGER=false

# File Paths
DATA_DIR=/app/data
CACHE_DIR=/app/cache
TEMP_DIR=/tmp/himira_etl